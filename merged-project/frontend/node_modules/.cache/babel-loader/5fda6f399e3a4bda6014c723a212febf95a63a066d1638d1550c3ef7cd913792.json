{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PickupReminder=_ref=>{let{childId}=_ref;const[showForm,setShowForm]=useState(false);const[pickupTime,setPickupTime]=useState('');const[loading,setLoading]=useState(false);const[message,setMessage]=useState('');const handleSubmit=async e=>{e.preventDefault();setLoading(true);setMessage('');try{const response=await axios.post(\"http://localhost:5000/api/activities/\".concat(childId,\"/pickup-reminder\"),{pickupTime:new Date(pickupTime).toISOString()});if(response.data.success){setMessage('✅ Pickup reminder scheduled successfully!');setTimeout(()=>{setShowForm(false);setPickupTime('');},2000);}}catch(error){console.error('Error scheduling pickup reminder:',error);setMessage('❌ Failed to schedule pickup reminder. Please try again.');}finally{setLoading(false);}};const getDefaultTime=()=>{const now=new Date();const today5PM=new Date(now);today5PM.setHours(17,0,0,0);return today5PM.toISOString().slice(0,16);};return/*#__PURE__*/_jsxs(\"div\",{className:\"pickup-reminder-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pickup-btn\",onClick:()=>setShowForm(!showForm),style:{padding:'10px 20px',background:'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',color:'white',border:'none',borderRadius:'8px',fontWeight:'600',cursor:'pointer',fontSize:'14px',fontFamily:\"'Texturina', serif\",display:'flex',alignItems:'center',gap:'8px',transition:'all 0.3s ease'},children:\"\\u23F0 Schedule Pickup Reminder\"}),showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"pickup-form-overlay\",style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{className:\"pickup-form\",style:{background:'#dbbfbf',padding:'30px',borderRadius:'15px',width:'400px',maxWidth:'90%',boxShadow:'0 20px 60px rgba(0, 0, 0, 0.3)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#1d4ed8',margin:0},children:\"\\u23F0 Schedule Pickup Reminder\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(false),style:{background:'none',border:'none',fontSize:'1.5rem',cursor:'pointer',color:'#4a5568'},children:\"\\u2715\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px',background:message.includes('✅')?'#d1fae5':'#fee2e2',color:message.includes('✅')?'#065f46':'#991b1b',borderRadius:'5px',marginBottom:'15px',textAlign:'center'},children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pickup Date & Time *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:pickupTime||getDefaultTime(),onChange:e=>setPickupTime(e.target.value),className:\"form-control\",required:true,min:new Date().toISOString().slice(0,16)}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontSize:'0.8rem',display:'block',marginTop:'5px'},children:\"Parent will receive reminder 30 minutes before pickup\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,style:{flex:1},children:loading?'Scheduling...':'⏰ Schedule Reminder'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:()=>setShowForm(false),style:{flex:1,background:'#6b7280',color:'white'},children:\"Cancel\"})]})]})]})})]});};export default PickupReminder;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","PickupReminder","_ref","childId","showForm","setShowForm","pickupTime","setPickupTime","loading","setLoading","message","setMessage","handleSubmit","e","preventDefault","response","post","concat","Date","toISOString","data","success","setTimeout","error","console","getDefaultTime","now","today5PM","setHours","slice","className","children","onClick","style","padding","background","color","border","borderRadius","fontWeight","cursor","fontSize","fontFamily","display","alignItems","gap","transition","position","top","left","right","bottom","justifyContent","zIndex","width","maxWidth","boxShadow","marginBottom","margin","includes","textAlign","onSubmit","type","value","onChange","target","required","min","marginTop","disabled","flex"],"sources":["/media/dh77b/New Volume/smartdaycare/merged-project/frontend/src/components/PickupReminder/PickupReminder.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst PickupReminder = ({ childId }) => {\n    const [showForm, setShowForm] = useState(false);\n    const [pickupTime, setPickupTime] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        setMessage('');\n\n        try {\n            const response = await axios.post(`http://localhost:5000/api/activities/${childId}/pickup-reminder`, {\n                pickupTime: new Date(pickupTime).toISOString()\n            });\n\n            if (response.data.success) {\n                setMessage('✅ Pickup reminder scheduled successfully!');\n                setTimeout(() => {\n                    setShowForm(false);\n                    setPickupTime('');\n                }, 2000);\n            }\n        } catch (error) {\n            console.error('Error scheduling pickup reminder:', error);\n            setMessage('❌ Failed to schedule pickup reminder. Please try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const getDefaultTime = () => {\n        const now = new Date();\n        const today5PM = new Date(now);\n        today5PM.setHours(17, 0, 0, 0);\n        return today5PM.toISOString().slice(0, 16);\n    };\n\n    return (\n        <div className=\"pickup-reminder-container\">\n            <button\n                className=\"pickup-btn\"\n                onClick={() => setShowForm(!showForm)}\n                style={{\n                    padding: '10px 20px',\n                    background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '8px',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    fontSize: '14px',\n                    fontFamily: \"'Texturina', serif\",\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    transition: 'all 0.3s ease'\n                }}\n            >\n                ⏰ Schedule Pickup Reminder\n            </button>\n\n            {showForm && (\n                <div className=\"pickup-form-overlay\" style={{\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: 'rgba(0, 0, 0, 0.5)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    zIndex: 1000\n                }}>\n                    <div className=\"pickup-form\" style={{\n                        background: '#dbbfbf',\n                        padding: '30px',\n                        borderRadius: '15px',\n                        width: '400px',\n                        maxWidth: '90%',\n                        boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)'\n                    }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n                            <h3 style={{ color: '#1d4ed8', margin: 0 }}>⏰ Schedule Pickup Reminder</h3>\n                            <button\n                                onClick={() => setShowForm(false)}\n                                style={{\n                                    background: 'none',\n                                    border: 'none',\n                                    fontSize: '1.5rem',\n                                    cursor: 'pointer',\n                                    color: '#4a5568'\n                                }}\n                            >\n                                ✕\n                            </button>\n                        </div>\n\n                        {message && (\n                            <div style={{\n                                padding: '10px',\n                                background: message.includes('✅') ? '#d1fae5' : '#fee2e2',\n                                color: message.includes('✅') ? '#065f46' : '#991b1b',\n                                borderRadius: '5px',\n                                marginBottom: '15px',\n                                textAlign: 'center'\n                            }}>\n                                {message}\n                            </div>\n                        )}\n\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"form-group\">\n                                <label>Pickup Date & Time *</label>\n                                <input\n                                    type=\"datetime-local\"\n                                    value={pickupTime || getDefaultTime()}\n                                    onChange={(e) => setPickupTime(e.target.value)}\n                                    className=\"form-control\"\n                                    required\n                                    min={new Date().toISOString().slice(0, 16)}\n                                />\n                                <small style={{ color: '#6b7280', fontSize: '0.8rem', display: 'block', marginTop: '5px' }}>\n                                    Parent will receive reminder 30 minutes before pickup\n                                </small>\n                            </div>\n\n                            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\n                                <button\n                                    type=\"submit\"\n                                    className=\"btn btn-primary\"\n                                    disabled={loading}\n                                    style={{ flex: 1 }}\n                                >\n                                    {loading ? 'Scheduling...' : '⏰ Schedule Reminder'}\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className=\"btn\"\n                                    onClick={() => setShowForm(false)}\n                                    style={{\n                                        flex: 1,\n                                        background: '#6b7280',\n                                        color: 'white'\n                                    }}\n                                >\n                                    Cancel\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default PickupReminder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}