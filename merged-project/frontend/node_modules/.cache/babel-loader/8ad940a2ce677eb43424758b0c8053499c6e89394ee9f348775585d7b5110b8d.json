{"ast":null,"code":"import React,{useContext,useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import'../styles.css';import{AcademicCapIcon,HeartIcon,BookOpenIcon,ClipboardDocumentListIcon,ClockIcon}from\"@heroicons/react/24/outline\";import API from\"../utils/api\";import{AuthContext}from\"../context/AuthContext\";import ActivityForm from\"../components/ActivityForm\";import ActivityList from\"../components/ActivityList\";import EmergencyAlert from\"../components/EmergencyAlert/EmergencyAlert\";import PickupReminder from\"../components/PickupReminder/PickupReminder\";import ChatButton from\"../components/ChatButton/ChatButton\";import AttendanceManager from\"../components/AttendanceManager\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StaffDashboard=()=>{var _user$staffRole;const{user,logout}=useContext(AuthContext);const navigate=useNavigate();const[status,setStatus]=useState(null);const[refreshKey,setRefreshKey]=useState(0);const[selectedChild,setSelectedChild]=useState(null);const[assignedChildren,setAssignedChildren]=useState([]);// Get staff role\nconst staffRole=user===null||user===void 0?void 0:(_user$staffRole=user.staffRole)===null||_user$staffRole===void 0?void 0:_user$staffRole.toLowerCase();// Fetch assigned children\nuseEffect(()=>{if(user!==null&&user!==void 0&&user._id||user!==null&&user!==void 0&&user.id){fetchAssignedChildren();}},[user]);const fetchAssignedChildren=async()=>{try{const token=localStorage.getItem(\"token\");// Use the dedicated endpoint for staff to get assigned children\nconst res=await API.get(\"/children/assigned\",{headers:{Authorization:\"Bearer \".concat(token)}});const assigned=res.data.data||[];setAssignedChildren(assigned);if(assigned.length>0&&!selectedChild){setSelectedChild(assigned[0]);}else if(assigned.length===0){setSelectedChild(null);}}catch(err){console.error(\"Could not fetch assigned children:\",err);setAssignedChildren([]);setSelectedChild(null);}};const handleActivityCreated=()=>{setRefreshKey(prev=>prev+1);setStatus({type:\"success\",msg:\"Activity created successfully! ‚úÖ\"});setTimeout(()=>setStatus(null),4000);};// Define activity options per role\nconst activityOptions={caregiver:[\"Feeding\",\"Diaper Change\",\"Nap Supervision\",\"Playtime\",\"Comforting Child\",\"Bathroom Assistance\",\"Health Check\",\"Outdoor Play\"],teacher:[\"Story Time\",\"Art & Craft Session\",\"Circle Time\",\"Learning Activity\",\"Music & Movement\",\"Group Game\",\"Reading Session\",\"Educational Play\"],cook:[\"Breakfast Preparation\",\"Lunch Cooking\",\"Snack Preparation\",\"Dinner Preparation\",\"Kitchen Cleaning\",\"Food Serving\",\"Menu Planning\",\"Inventory Check\"]};const activities=activityOptions[staffRole]||[];// Handle starting an activity\nconst startActivity=async activityName=>{setStatus(null);let endpoint=\"\";let payloadKey=\"\";if(staffRole===\"cook\"){endpoint=\"/staff-activities/cooking\";payloadKey=\"cookingtype\";}else if(staffRole===\"caregiver\"){endpoint=\"/staff-activities/caregiving\";payloadKey=\"caregivingtype\";}else if(staffRole===\"teacher\"){endpoint=\"/staff-activities/teaching\";payloadKey=\"teachingtype\";}else{setStatus({type:\"error\",msg:\"Invalid staff role.\"});return;}try{await API.post(endpoint,{staffId:user._id,[payloadKey]:activityName});setStatus({type:\"success\",msg:\"\\\"\".concat(activityName,\"\\\" logged successfully! \\u2705\")});setTimeout(()=>setStatus(null),4000);}catch(err){var _err$response,_err$response$data;console.error(\"Activity log failed:\",err);setStatus({type:\"error\",msg:((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to log activity. Please try again.\"});}};// Icon mapping\nconst getRoleIcon=()=>{if(staffRole===\"cook\")return/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-8 w-8\"});if(staffRole===\"caregiver\")return/*#__PURE__*/_jsx(HeartIcon,{className:\"h-8 w-8\"});if(staffRole===\"teacher\")return/*#__PURE__*/_jsx(BookOpenIcon,{className:\"h-8 w-8\"});return/*#__PURE__*/_jsx(ClipboardDocumentListIcon,{className:\"h-8 w-8\"});};const getRoleColor=()=>{if(staffRole===\"cook\")return\"text-amber-600\";if(staffRole===\"caregiver\")return\"text-pink-600\";if(staffRole===\"teacher\")return\"text-indigo-600\";return\"text-blue-600\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",style:{background:'linear-gradient(135deg, #f5cfcf 0%, #dbbfbf 100%)',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"gwendolyn-bold\",children:\"\\uD83C\\uDFE1 SmartDaycare - Staff Portal\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",user===null||user===void 0?void 0:user.name,\" | \",user===null||user===void 0?void 0:user.staffRole]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(ChatButton,{userId:(user===null||user===void 0?void 0:user._id)||(user===null||user===void 0?void 0:user.id),userRole:\"staff\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/staff/profile'),className:\"nav-btn\",children:\"\\uD83D\\uDC64 My Profile\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/notifications'),className:\"nav-btn\",children:\"\\uD83D\\uDD14 Notifications\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/chat'),className:\"nav-btn\",children:\"\\uD83D\\uDCAC Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"nav-btn\",style:{background:'#ef4444'},children:\"Logout\"})]})]})}),status&&/*#__PURE__*/_jsx(\"div\",{className:\"status-message \".concat(status.type===\"success\"?\"success\":\"error\"),style:{padding:'15px 20px',borderRadius:'10px',marginBottom:'20px',textAlign:'center',fontWeight:'600',background:status.type===\"success\"?'#d1fae5':'#fee2e2',color:status.type===\"success\"?'#065f46':'#991b1b',border:\"2px solid \".concat(status.type===\"success\"?'#10b981':'#ef4444')},children:status.msg}),assignedChildren.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC76 Select Child\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'10px',flexWrap:'wrap',marginTop:'15px'},children:assignedChildren.map(child=>/*#__PURE__*/_jsxs(\"button\",{className:\"btn \".concat((selectedChild===null||selectedChild===void 0?void 0:selectedChild._id)===child._id?'active':''),onClick:()=>setSelectedChild(child),children:[child.name,\" (Age: \",child.age,\")\"]},child._id))})]}),selectedChild&&/*#__PURE__*/_jsx(AttendanceManager,{childId:selectedChild._id,childName:selectedChild.name,onUpdate:()=>setRefreshKey(prev=>prev+1)}),selectedChild&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px',flexWrap:'wrap',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCDD Create Activity Log\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[\"Staff: \",user===null||user===void 0?void 0:user.name,\" | Child: \",selectedChild.name]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'10px',flexWrap:'wrap',alignItems:'center'},children:selectedChild&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PickupReminder,{childId:selectedChild._id}),/*#__PURE__*/_jsx(EmergencyAlert,{staffId:(user===null||user===void 0?void 0:user._id)||(user===null||user===void 0?void 0:user.id),childId:selectedChild._id})]})})]}),/*#__PURE__*/_jsx(ActivityForm,{staffId:(user===null||user===void 0?void 0:user._id)||(user===null||user===void 0?void 0:user.id),childId:selectedChild._id,onActivityCreated:handleActivityCreated})]}),selectedChild&&activities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u26A1 Quick Activity Log\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:'20px',color:'#6b7280'},children:\"Click any button below to quickly log an activity\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(200px, 1fr))',gap:'15px'},children:activities.map(activity=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>startActivity(activity),className:\"btn btn-primary\",style:{padding:'15px',fontSize:'1rem'},children:[/*#__PURE__*/_jsx(ClockIcon,{style:{display:'inline-block',marginRight:'8px',width:'20px',height:'20px'}}),activity]},activity))})]}),selectedChild&&/*#__PURE__*/_jsxs(\"div\",{className:\"activities-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCB Activity History\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your recent posts and updates for \",selectedChild.name]}),/*#__PURE__*/_jsx(ActivityList,{type:\"staff\",staffId:(user===null||user===void 0?void 0:user._id)||(user===null||user===void 0?void 0:user.id)},refreshKey)]}),!selectedChild&&assignedChildren.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No children assigned to you yet. Please contact an administrator.\"})})})]});};export default StaffDashboard;","map":{"version":3,"names":["React","useContext","useState","useEffect","useNavigate","AcademicCapIcon","HeartIcon","BookOpenIcon","ClipboardDocumentListIcon","ClockIcon","API","AuthContext","ActivityForm","ActivityList","EmergencyAlert","PickupReminder","ChatButton","AttendanceManager","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StaffDashboard","_user$staffRole","user","logout","navigate","status","setStatus","refreshKey","setRefreshKey","selectedChild","setSelectedChild","assignedChildren","setAssignedChildren","staffRole","toLowerCase","_id","id","fetchAssignedChildren","token","localStorage","getItem","res","get","headers","Authorization","concat","assigned","data","length","err","console","error","handleActivityCreated","prev","type","msg","setTimeout","activityOptions","caregiver","teacher","cook","activities","startActivity","activityName","endpoint","payloadKey","post","staffId","_err$response","_err$response$data","response","message","getRoleIcon","className","getRoleColor","style","background","minHeight","children","display","justifyContent","alignItems","flexWrap","gap","name","userId","userRole","onClick","padding","borderRadius","marginBottom","textAlign","fontWeight","color","border","marginTop","map","child","age","childId","childName","onUpdate","onActivityCreated","gridTemplateColumns","activity","fontSize","marginRight","width","height"],"sources":["/media/dh77b/New Volume/smartdaycare/merged-project/frontend/src/pages/StaffDashboard.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport '../styles.css';\nimport {\n  AcademicCapIcon,\n  HeartIcon,\n  BookOpenIcon,\n  ClipboardDocumentListIcon,\n  ClockIcon,\n} from \"@heroicons/react/24/outline\";\nimport API from \"../utils/api\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport ActivityForm from \"../components/ActivityForm\";\nimport ActivityList from \"../components/ActivityList\";\nimport EmergencyAlert from \"../components/EmergencyAlert/EmergencyAlert\";\nimport PickupReminder from \"../components/PickupReminder/PickupReminder\";\nimport ChatButton from \"../components/ChatButton/ChatButton\";\nimport AttendanceManager from \"../components/AttendanceManager\";\n\nconst StaffDashboard = () => {\n  const { user, logout } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [status, setStatus] = useState(null);\n  const [refreshKey, setRefreshKey] = useState(0);\n  const [selectedChild, setSelectedChild] = useState(null);\n  const [assignedChildren, setAssignedChildren] = useState([]);\n\n  // Get staff role\n  const staffRole = user?.staffRole?.toLowerCase();\n\n  // Fetch assigned children\n  useEffect(() => {\n    if (user?._id || user?.id) {\n      fetchAssignedChildren();\n    }\n  }, [user]);\n\n  const fetchAssignedChildren = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      // Use the dedicated endpoint for staff to get assigned children\n      const res = await API.get(\"/children/assigned\", {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      const assigned = res.data.data || [];\n      setAssignedChildren(assigned);\n      if (assigned.length > 0 && !selectedChild) {\n        setSelectedChild(assigned[0]);\n      } else if (assigned.length === 0) {\n        setSelectedChild(null);\n      }\n    } catch (err) {\n      console.error(\"Could not fetch assigned children:\", err);\n      setAssignedChildren([]);\n      setSelectedChild(null);\n    }\n  };\n\n  const handleActivityCreated = () => {\n    setRefreshKey(prev => prev + 1);\n    setStatus({\n      type: \"success\",\n      msg: \"Activity created successfully! ‚úÖ\",\n    });\n    setTimeout(() => setStatus(null), 4000);\n  };\n\n  // Define activity options per role\n  const activityOptions = {\n    caregiver: [\n      \"Feeding\",\n      \"Diaper Change\",\n      \"Nap Supervision\",\n      \"Playtime\",\n      \"Comforting Child\",\n      \"Bathroom Assistance\",\n      \"Health Check\",\n      \"Outdoor Play\",\n    ],\n    teacher: [\n      \"Story Time\",\n      \"Art & Craft Session\",\n      \"Circle Time\",\n      \"Learning Activity\",\n      \"Music & Movement\",\n      \"Group Game\",\n      \"Reading Session\",\n      \"Educational Play\",\n    ],\n    cook: [\n      \"Breakfast Preparation\",\n      \"Lunch Cooking\",\n      \"Snack Preparation\",\n      \"Dinner Preparation\",\n      \"Kitchen Cleaning\",\n      \"Food Serving\",\n      \"Menu Planning\",\n      \"Inventory Check\",\n    ],\n  };\n\n  const activities = activityOptions[staffRole] || [];\n\n  // Handle starting an activity\n  const startActivity = async (activityName) => {\n    setStatus(null);\n\n    let endpoint = \"\";\n    let payloadKey = \"\";\n\n    if (staffRole === \"cook\") {\n      endpoint = \"/staff-activities/cooking\";\n      payloadKey = \"cookingtype\";\n    } else if (staffRole === \"caregiver\") {\n      endpoint = \"/staff-activities/caregiving\";\n      payloadKey = \"caregivingtype\";\n    } else if (staffRole === \"teacher\") {\n      endpoint = \"/staff-activities/teaching\";\n      payloadKey = \"teachingtype\";\n    } else {\n      setStatus({ type: \"error\", msg: \"Invalid staff role.\" });\n      return;\n    }\n\n    try {\n      await API.post(endpoint, {\n        staffId: user._id,\n        [payloadKey]: activityName,\n      });\n\n      setStatus({\n        type: \"success\",\n        msg: `\"${activityName}\" logged successfully! ‚úÖ`,\n      });\n\n      setTimeout(() => setStatus(null), 4000);\n    } catch (err) {\n      console.error(\"Activity log failed:\", err);\n      setStatus({\n        type: \"error\",\n        msg:\n          err.response?.data?.message ||\n          \"Failed to log activity. Please try again.\",\n      });\n    }\n  };\n\n  // Icon mapping\n  const getRoleIcon = () => {\n    if (staffRole === \"cook\") return <AcademicCapIcon className=\"h-8 w-8\" />;\n    if (staffRole === \"caregiver\") return <HeartIcon className=\"h-8 w-8\" />;\n    if (staffRole === \"teacher\") return <BookOpenIcon className=\"h-8 w-8\" />;\n    return <ClipboardDocumentListIcon className=\"h-8 w-8\" />;\n  };\n\n  const getRoleColor = () => {\n    if (staffRole === \"cook\") return \"text-amber-600\";\n    if (staffRole === \"caregiver\") return \"text-pink-600\";\n    if (staffRole === \"teacher\") return \"text-indigo-600\";\n    return \"text-blue-600\";\n  };\n\n  return (\n    <div className=\"app-container\" style={{ background: 'linear-gradient(135deg, #f5cfcf 0%, #dbbfbf 100%)', minHeight: '100vh' }}>\n      {/* Header */}\n      <header className=\"header\">\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '15px' }}>\n          <div>\n            <h1 className=\"gwendolyn-bold\">üè° SmartDaycare - Staff Portal</h1>\n            <p>Welcome, {user?.name} | {user?.staffRole}</p>\n          </div>\n          <div style={{ display: 'flex', gap: '15px', alignItems: 'center', flexWrap: 'wrap' }}>\n            <ChatButton userId={user?._id || user?.id} userRole=\"staff\" />\n            <button\n              onClick={() => navigate('/staff/profile')}\n              className=\"nav-btn\"\n            >\n              üë§ My Profile\n            </button>\n            <button\n              onClick={() => navigate('/notifications')}\n              className=\"nav-btn\"\n            >\n              üîî Notifications\n            </button>\n            <button\n              onClick={() => navigate('/chat')}\n              className=\"nav-btn\"\n            >\n              üí¨ Chat\n            </button>\n            <button\n              onClick={logout}\n              className=\"nav-btn\"\n              style={{ background: '#ef4444' }}\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* Status Message */}\n      {status && (\n        <div\n          className={`status-message ${status.type === \"success\" ? \"success\" : \"error\"}`}\n          style={{\n            padding: '15px 20px',\n            borderRadius: '10px',\n            marginBottom: '20px',\n            textAlign: 'center',\n            fontWeight: '600',\n            background: status.type === \"success\" ? '#d1fae5' : '#fee2e2',\n            color: status.type === \"success\" ? '#065f46' : '#991b1b',\n            border: `2px solid ${status.type === \"success\" ? '#10b981' : '#ef4444'}`\n          }}\n        >\n          {status.msg}\n        </div>\n      )}\n\n      {/* Child Selection */}\n      {assignedChildren.length > 0 && (\n        <div className=\"form-container\" style={{ marginBottom: '30px' }}>\n          <h2>üë∂ Select Child</h2>\n          <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginTop: '15px' }}>\n            {assignedChildren.map((child) => (\n              <button\n                key={child._id}\n                className={`btn ${selectedChild?._id === child._id ? 'active' : ''}`}\n                onClick={() => setSelectedChild(child)}\n              >\n                {child.name} (Age: {child.age})\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Attendance Management */}\n      {selectedChild && (\n        <AttendanceManager\n          childId={selectedChild._id}\n          childName={selectedChild.name}\n          onUpdate={() => setRefreshKey(prev => prev + 1)}\n        />\n      )}\n\n      {/* Activity Creation Form */}\n      {selectedChild && (\n        <div className=\"form-container\">\n          <div style={{ \n            display: 'flex', \n            justifyContent: 'space-between', \n            alignItems: 'center', \n            marginBottom: '20px', \n            flexWrap: 'wrap', \n            gap: '10px' \n          }}>\n            <div>\n              <h2>üìù Create Activity Log</h2>\n              <p className=\"mb-4\">Staff: {user?.name} | Child: {selectedChild.name}</p>\n            </div>\n            <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', alignItems: 'center' }}>\n              {selectedChild && (\n                <>\n                  <PickupReminder childId={selectedChild._id} />\n                  <EmergencyAlert staffId={user?._id || user?.id} childId={selectedChild._id} />\n                </>\n              )}\n            </div>\n          </div>\n          <ActivityForm\n            staffId={user?._id || user?.id}\n            childId={selectedChild._id}\n            onActivityCreated={handleActivityCreated}\n          />\n        </div>\n      )}\n\n      {/* Quick Activity Buttons */}\n      {selectedChild && activities.length > 0 && (\n        <div className=\"form-container\" style={{ marginBottom: '30px' }}>\n          <h2>‚ö° Quick Activity Log</h2>\n          <p style={{ marginBottom: '20px', color: '#6b7280' }}>\n            Click any button below to quickly log an activity\n          </p>\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))', gap: '15px' }}>\n            {activities.map((activity) => (\n              <button\n                key={activity}\n                onClick={() => startActivity(activity)}\n                className=\"btn btn-primary\"\n                style={{ padding: '15px', fontSize: '1rem' }}\n              >\n                <ClockIcon style={{ display: 'inline-block', marginRight: '8px', width: '20px', height: '20px' }} />\n                {activity}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Activity History */}\n      {selectedChild && (\n        <div className=\"activities-container\">\n          <h2>üìã Activity History</h2>\n          <p>Your recent posts and updates for {selectedChild.name}</p>\n          <ActivityList\n            key={refreshKey}\n            type=\"staff\"\n            staffId={user?._id || user?.id}\n          />\n        </div>\n      )}\n\n      {!selectedChild && assignedChildren.length === 0 && (\n        <div className=\"form-container\">\n          <div className=\"empty-state\">\n            <p>No children assigned to you yet. Please contact an administrator.</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StaffDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}